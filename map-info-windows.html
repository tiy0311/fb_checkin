<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Info windows</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
// This example displays a marker at the center of Australia.
// When the user clicks the marker, an info window opens.

/*
function initialize() {
  var mapOptions = {
    zoom: 11,
    center: new google.maps.LatLng(25.044955,121.335579),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  var contentString1 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h2 id="firstHeading" class="firstHeading">卓樂牛排</h2>'+ // place name
      '<div id="bodyContent">'+
      '<p><b>Date:</b> 2014年5月31日 下午7:32:12 <br />' + // date
      '<b>From:</b> <a href="https://www.facebook.com/profile.php?id=100001314601560">許中光</a><br />' + // from
      '<b>Tags:</b> <a href="https://www.facebook.com/xiaxiaYA">許惟琄</a>, <a href="https://www.facebook.com/moonriver0523">Denis Hse</a> <br /></p>' + // tags
      '<img src="https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xpf1/v/t35.0-12/10424161_687926237927857_2101753851_o.jpg?oh=b3408ef1a9908027cb699c777c1297a2&oe=5392A9B0&__gda__=1402139104_70cccd7c32a022083ebdc5d9aeb5228d" style="width:200px;height:180px;">'+
      '</div>'+
      '</div>';

  var contentString2 = '<div id="content">'+
    '<div id="siteNotice">'+
    '</div>'+
    '<h2 id="firstHeading" class="firstHeading">大直美麗華-美琪蒙古烤肉</h2>'+ // place name
    '<div id="bodyContent">'+
    '<p><b>Date:</b> 2014年4月10日 下午8:00:15 <br />' + // date
    '<b>From:</b> <a href="https://www.facebook.com/profile.php?id=100001314601560">許中光</a><br />' + // from
    '<b>Tags:</b> <a href="https://www.facebook.com/xiaxiaYA">許惟琄</a>, <a href="https://www.facebook.com/moonriver0523">Denis Hse</a> <br /></p>' + // tags
    '<img src="https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xpf1/v/t35.0-12/10424161_687926237927857_2101753851_o.jpg?oh=b3408ef1a9908027cb699c777c1297a2&oe=5392A9B0&__gda__=1402139104_70cccd7c32a022083ebdc5d9aeb5228d" style="width:200px;height:180px;">'+
    '</div>'+
    '</div>';


  var infowindow = new google.maps.InfoWindow({
      content: contentString1,
      content: contentString2,
      maxWidth: 240
  });

  var marker = new google.maps.Marker({
      position: new google.maps.LatLng(25.023193684137,121.55668638784),
      map: map,
      title: '卓樂牛排'
  });
  google.maps.event.addListener(marker, 'click', function() {
    infowindow.open(map,marker);
  });
}

google.maps.event.addDomListener(window, 'load', initialize);
*/

function initialize() {
  map = new google.maps.Map(document.getElementById('map-canvas'), {
    zoom: 12,
    center: new google.maps.LatLng(25.036772,121.520269), // 設定地圖中心點
    mapTypeId: google.maps.MapTypeId.ROADMAP // HYBRID,ROADMAP,SATELLITE,TERRAIN  
  });    

  addSite(map,'卓樂牛排',25.023193684137,121.55668638784,'2014年5月31日 下午7:32:12','許中光','許惟琄,Denis Hse');
  addSite(map,'大直美麗華-美琪蒙古烤肉',25.0829388969,121.557651351,'2014年4月10日 下午8:00:15','許中光','許惟琄,Denis Hse');
  addSite(map,'復興SOGO 山頭火拉麵',25.0416033226,121.543363303,'2014年2月27日 下午7:30:37','許中光','許惟琄');     


 

var prev_infowindow = null;
function addSite(map, placeName, lat, lng, date, from, tags) {

  console.log('in addSite()');
  var pt = new google.maps.LatLng(lat,lng);
  var marker = new google.maps.Marker({
    map: map,
    position : pt,
    title: placeName
  });

  var contentString = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h2 id="firstHeading" class="firstHeading">'+placeName+'</h2>'+ // place name
      '<div id="bodyContent">'+
      '<p><b>Date:</b>'+ date + '<br />' + // date
      '<b>From:</b> <a href="https://www.facebook.com/profile.php?id=100001314601560">'+ from +'</a><br />' + // from
      '<b>Tags:</b> <a href="https://www.facebook.com/xiaxiaYA">許惟琄</a>, <a href="https://www.facebook.com/moonriver0523">Denis Hse</a> <br /></p>' + // tags
      '<img src="https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xpf1/v/t35.0-12/10424161_687926237927857_2101753851_o.jpg?oh=b3408ef1a9908027cb699c777c1297a2&oe=5392A9B0&__gda__=1402139104_70cccd7c32a022083ebdc5d9aeb5228d" style="width:200px;height:180px;">'+
      '</div>'+
      '</div>';

  var infowindow = new google.maps.InfoWindow({
    content: contentString
});

 

google.maps.event.addListener(marker, 'click', function() {
  if (prev_infowindow != null) prev_infowindow.close();
  prev_infowindow = infowindow;
  infowindow.open(map, marker);
});            

}
}
google.maps.event.addDomListener(window, 'load', initialize);

/*
function initialize() {
  var mapOptions = {
    zoom: 11,
    center: new google.maps.LatLng(25.044955,121.335579),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  addSite(map,'卓樂牛排',25.023193684137,121.55668638784,'2014年5月31日 下午7:32:12','許中光','許惟琄,Denis Hse');
  addSite(map,'大直美麗華-美琪蒙古烤肉',25.0829388969,121.557651351,'2014年4月10日 下午8:00:15','許中光','許惟琄,Denis Hse');
  addSite(map,'復興SOGO 山頭火拉麵',25.0416033226,121.543363303,'2014年2月27日 下午7:30:37','許中光','許惟琄');  

}

function addSite(map, placeName, lat, lng, date, from, tags) {

  var contentString1 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h2 id="firstHeading" class="firstHeading">卓樂牛排</h2>'+ // place name
      '<div id="bodyContent">'+
      '<p><b>Date:</b> 2014年5月31日 下午7:32:12 <br />' + // date
      '<b>From:</b> <a href="https://www.facebook.com/profile.php?id=100001314601560">許中光</a><br />' + // from
      '<b>Tags:</b> <a href="https://www.facebook.com/xiaxiaYA">許惟琄</a>, <a href="https://www.facebook.com/moonriver0523">Denis Hse</a> <br /></p>' + // tags
      '<img src="https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xpf1/v/t35.0-12/10424161_687926237927857_2101753851_o.jpg?oh=b3408ef1a9908027cb699c777c1297a2&oe=5392A9B0&__gda__=1402139104_70cccd7c32a022083ebdc5d9aeb5228d" style="width:200px;height:180px;">'+
      '</div>'+
      '</div>';



  var infowindow = new google.maps.InfoWindow({
      content: contentString1,
      content: contentString2,
      maxWidth: 240
  });

  var marker = new google.maps.Marker({
      position: new google.maps.LatLng(25.023193684137,121.55668638784),
      map: map,
      title: '卓樂牛排'
  });
  google.maps.event.addListener(marker, 'click', function() {
    infowindow.open(map,marker);
  });


google.maps.event.addDomListener(window, 'load', initialize);
*/


    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>